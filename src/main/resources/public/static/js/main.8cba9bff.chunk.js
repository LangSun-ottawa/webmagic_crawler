(this["webpackJsonpmy-crawler"]=this["webpackJsonpmy-crawler"]||[]).push([[0],{32:function(e,a,n){},46:function(e,a,n){},47:function(e,a,n){},53:function(e,a,n){"use strict";n.r(a);var t=n(13),l=n.n(t),i=n(15),r=n(0),s=n(7),o=n(8),c=n(10),u=n(9),m=n(1),v=n.n(m),h=n(23),d=n.n(h),b=(n(32),n(33),n(46),function(e){Object(c.a)(n,e);var a=Object(u.a)(n);function n(e){var t;return Object(s.a)(this,n),(t=a.call(this,e)).sendPage=function(){t.props.changePage(t.state.pageCurr)},t.state={pageCurr:1,groupCount:7,startPage:1},t}return Object(o.a)(n,[{key:"create",value:function(){var e=this.props.config.totalPage,a=this.state,n=a.pageCurr,t=a.groupCount,l=a.startPage,i=[];if(e<=10){i.push(Object(r.jsx)("li",{onClick:this.goPrev.bind(this),className:1===this.state.pageCurr?"nomore":"",children:"\u4e0a\u4e00\u9875"},0));for(var s=1;s<=e;s++)i.push(Object(r.jsx)("li",{onClick:this.go.bind(this,s),className:n===s?"active":"",children:s},s));i.push(Object(r.jsx)("li",{onClick:this.goNext.bind(this),className:this.state.pageCurr===e?"nomore":"",children:"\u4e0b\u4e00\u9875"},e+1))}else{i.push(Object(r.jsx)("li",{className:1===this.state.pageCurr?"nomore":"",onClick:this.goPrev.bind(this),children:"\u4e0a\u4e00\u9875"},0));for(var o=l;o<t+l;o++)o<=e-2&&i.push(Object(r.jsx)("li",{className:this.state.pageCurr===o?"active":"",onClick:this.go.bind(this,o),children:o},o));e-l>=9&&i.push(Object(r.jsx)("li",{className:"ellipsis",children:"\xb7\xb7\xb7"},-1)),i.push(Object(r.jsx)("li",{className:this.state.pageCurr===e-1?"active":"",onClick:this.go.bind(this,e-1),children:e-1},e-1)),i.push(Object(r.jsx)("li",{className:this.state.pageCurr===e?"active":"",onClick:this.go.bind(this,e),children:e},e)),i.push(Object(r.jsx)("li",{className:this.state.pageCurr===e?"nomore":"",onClick:this.goNext.bind(this),children:"\u4e0b\u4e00\u9875"},e+1))}return i}},{key:"go",value:function(e){var a=this.state.groupCount,n=this.props.config.totalPage;e%a===1&&this.setState({startPage:e}),e%a===0&&this.setState({startPage:e-a+1}),n-e<2&&this.setState({startPage:n-a}),this.setState({pageCurr:e}),setTimeout(this.sendPage,1)}},{key:"goPrev",value:function(){var e=this.state.pageCurr;0!==--e&&this.go(e)}},{key:"goNext",value:function(){var e=this.state.pageCurr;++e>this.props.config.totalPage||this.go(e)}},{key:"render",value:function(){var e=this.create.bind(this)();return Object(r.jsx)("div",{className:"main",children:Object(r.jsx)("nav",{"aria-label":"Page navigation example",children:Object(r.jsx)("ul",{className:"page pagination pagination-lg justify-content-center",children:e})})})}}]),n}(m.Component)),j=(n(47),console.log,function(e){Object(c.a)(n,e);var a=Object(u.a)(n);function n(e){var t;return Object(s.a)(this,n),(t=a.call(this,e)).onSubmit=function(e){null!=e&&e.preventDefault();var a={location:t.state.location,keyWord:t.state.keyWord,rate:t.state.rate,page:t.state.page};fetch("http://localhost:8080/myElastic/search",{method:"POST",body:JSON.stringify(a),mode:"cors",headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return console.log(e),e.json()})).then((function(e){var n=e;if("no"!==n.success){var l=n.rows,i=n.pageTotal;t.setState({location:a.location,keyWord:a.keyWord,rate:a.rate,pageTotal:i,rows:l,success:!0,totalHits:n.totalHits})}else t.setState({location:a.location,keyWord:a.keyWord,rate:a.rate,success:!1})}))},t.onChangeEvent=function(e){"location"===e.target.name?t.setState({location:e.target.value,page:1}):"keyWord"===e.target.name?t.setState({keyWord:e.target.value,page:1}):"rate"===e.target.name?(console.log(e.target.value),t.setState({rate:e.target.value,page:1})):t.setState({page:e.target.value})},t.changePageNum=function(e){t.setState({page:e}),setTimeout(t.onSubmit,1)},t.state={location:"",keyWord:"",data:{},rows:[],pageTotal:0,totalHits:0,success:!1,page:1,rate:""},t}return Object(o.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("form",{onSubmit:this.onSubmit,children:Object(r.jsxs)("div",{className:"form-row",id:"searchbox",children:[Object(r.jsx)("div",{className:"form-check form-check-inline col-2",style:{marginLeft:"10%"},children:Object(r.jsx)("input",{type:"text",id:"inputKeyWord",className:"form-text form-control",name:"keyWord",value:this.state.keyWord,onChange:this.onChangeEvent,placeholder:"please inter keyword"})}),Object(r.jsx)("div",{className:"form-check form-check-inline col-3",children:Object(r.jsx)("input",{type:"text",name:"location","aria-describedby":"basic-addon1",className:"form-text form-control",value:this.state.location,onChange:this.onChangeEvent,placeholder:"eg : ottawa"})}),Object(r.jsx)("div",{className:"form-check form-check-inline col-3",children:Object(r.jsxs)("select",{defaultValue:"0",name:"rate",className:"form-select form-select-sm",onChange:this.onChangeEvent,children:[Object(r.jsx)("option",{value:"4.5",children:" >  4. 5 "}),Object(r.jsx)("option",{value:"4",children:" 4 ~ 4.5 "}),Object(r.jsx)("option",{value:"3",children:" 3 ~ 4 "}),Object(r.jsx)("option",{value:"2",children:" < 3 "}),Object(r.jsx)("option",{value:"0",children:" select one rate \u2b50"})]})}),Object(r.jsx)("input",{type:"submit",value:"go",className:"form-check form-check-inline col btn-outline-dark btn-sm"})]})})}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"dataTable",style:{paddingLeft:"5%",paddingRight:"5%"},children:Object(r.jsx)(p,{data:this.state.rows,self:this.props,success:this.state.success})}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{className:"footer",children:Object(r.jsx)("article",{children:Object(r.jsx)(b,{config:{totalPage:this.state.pageTotal},changePage:this.changePageNum})})})]})}}]),n}(v.a.Component));function p(e){var a=[];return e.data.forEach((function(n,t){a.push(Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:n.companyName}),Object(r.jsx)("td",{children:n.jobAddr}),Object(r.jsx)("td",{children:n.jobTitle}),Object(r.jsx)("td",{children:n.rate}),Object(r.jsx)("td",{children:Object(r.jsxs)("a",{href:n.url,target:"_blank",children:[Object(r.jsx)("span",{role:"img","aria-label":"link",children:"\ud83d\udd17"}),"Link"]})}),Object(r.jsx)("td",{children:Object(r.jsx)("button",{onClick:function(){!function(a){e.self.history.push("display",{jobInfo:a.jobInfo})}(n)},children:"Detail"})})]},t+1))})),!0===e.success?Object(r.jsxs)("table",{className:"table table-striped table-hover",children:[Object(r.jsx)("thead",{className:"table-primary",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"CompanyName"}),Object(r.jsx)("th",{scope:"col",children:"Place"}),Object(r.jsx)("th",{scope:"col",children:"JobTitle"}),Object(r.jsx)("th",{scope:"col",children:"Rate"}),Object(r.jsx)("th",{scope:"col",children:"URL"}),Object(r.jsx)("th",{scope:"col",children:"Match Detail"})]})},0),Object(r.jsx)("tbody",{children:a})]}):Object(r.jsx)("div",{style:{textAlign:"center"},children:Object(r.jsx)("font",{color:"red",children:"no data"})})}var g=n(11),f=n(2),O=n(25),x=[{name:"Afghanistan",value:28397.812},{name:"Angola",value:19549.124},{name:"Albania",value:3150.143},{name:"United Arab Emirates",value:8441.537},{name:"Argentina",value:40374.224},{name:"Armenia",value:2963.496},{name:"French Southern and Antarctic Lands",value:268.065},{name:"Australia",value:22404.488},{name:"Austria",value:8401.924},{name:"Azerbaijan",value:9094.718},{name:"Burundi",value:9232.753},{name:"Belgium",value:10941.288},{name:"Benin",value:9509.798},{name:"Burkina Faso",value:15540.284},{name:"Bangladesh",value:151125.475},{name:"Bulgaria",value:7389.175},{name:"The Bahamas",value:66402.316},{name:"Bosnia and Herzegovina",value:3845.929},{name:"Belarus",value:9491.07},{name:"Belize",value:308.595},{name:"Bermuda",value:64.951},{name:"Bolivia",value:716.939},{name:"Brazil",value:195210.154},{name:"Brunei",value:27.223},{name:"Bhutan",value:716.939},{name:"Botswana",value:1969.341},{name:"Central African Rep.",value:4349.921},{name:"Canada",value:34126.24},{name:"Switzerland",value:7830.534},{name:"Chile",value:17150.76},{name:"China",value:1359821.465},{name:"Ivory Coast",value:60508.978},{name:"Cameroon",value:20624.343},{name:"Dem. Rep. Congo",value:62191.161},{name:"Republic of the Congo",value:3573.024},{name:"Colombia",value:46444.798},{name:"Costa Rica",value:4669.685},{name:"Cuba",value:11281.768},{name:"Northern Cyprus",value:1.468},{name:"Cyprus",value:1103.685},{name:"Czech Republic",value:10553.701},{name:"Germany",value:83017.404},{name:"Djibouti",value:834.036},{name:"Denmark",value:5550.959},{name:"Dominican Republic",value:10016.797},{name:"Algeria",value:37062.82},{name:"Ecuador",value:15001.072},{name:"Egypt",value:78075.705},{name:"Eritrea",value:5741.159},{name:"Spain",value:46182.038},{name:"Estonia",value:1298.533},{name:"Ethiopia",value:87095.281},{name:"Finland",value:5367.693},{name:"Fiji",value:860.559},{name:"Falkland Islands",value:49.581},{name:"France",value:63230.866},{name:"Gabon",value:1556.222},{name:"United Kingdom",value:62066.35},{name:"Georgia",value:4388.674},{name:"Ghana",value:24262.901},{name:"Guinea",value:10876.033},{name:"Gambia",value:1680.64},{name:"Guinea Bissau",value:10876.033},{name:"Equatorial Guinea",value:696.167},{name:"Greece",value:11109.999},{name:"Greenland",value:56.546},{name:"Guatemala",value:14341.576},{name:"French Guiana",value:231.169},{name:"Guyana",value:786.126},{name:"Honduras",value:7621.204},{name:"Croatia",value:4338.027},{name:"Haiti",value:9896.4},{name:"Hungary",value:10014.633},{name:"Indonesia",value:240676.485},{name:"India",value:1205624.648},{name:"Ireland",value:4467.561},{name:"Iran",value:240676.485},{name:"Iraq",value:30962.38},{name:"Iceland",value:318.042},{name:"Israel",value:7420.368},{name:"Italy",value:60508.978},{name:"Jamaica",value:2741.485},{name:"Jordan",value:6454.554},{name:"Japan",value:127352.833},{name:"Kazakhstan",value:15921.127},{name:"Kenya",value:40909.194},{name:"Kyrgyzstan",value:5334.223},{name:"Cambodia",value:14364.931},{name:"South Korea",value:51452.352},{name:"Kosovo",value:97.743},{name:"Kuwait",value:2991.58},{name:"Laos",value:6395.713},{name:"Lebanon",value:4341.092},{name:"Liberia",value:3957.99},{name:"Libya",value:6040.612},{name:"Sri Lanka",value:20758.779},{name:"Lesotho",value:2008.921},{name:"Lithuania",value:3068.457},{name:"Luxembourg",value:507.885},{name:"Latvia",value:2090.519},{name:"Morocco",value:31642.36},{name:"Moldova",value:103.619},{name:"Madagascar",value:21079.532},{name:"Mexico",value:117886.404},{name:"Macedonia",value:507.885},{name:"Mali",value:13985.961},{name:"Myanmar",value:51931.231},{name:"Montenegro",value:620.078},{name:"Mongolia",value:2712.738},{name:"Mozambique",value:23967.265},{name:"Mauritania",value:3609.42},{name:"Malawi",value:15013.694},{name:"Malaysia",value:28275.835},{name:"Namibia",value:2178.967},{name:"New Caledonia",value:246.379},{name:"Niger",value:15893.746},{name:"Nigeria",value:159707.78},{name:"Nicaragua",value:5822.209},{name:"Netherlands",value:16615.243},{name:"Norway",value:4891.251},{name:"Nepal",value:26846.016},{name:"New Zealand",value:4368.136},{name:"Oman",value:2802.768},{name:"Pakistan",value:173149.306},{name:"Panama",value:3678.128},{name:"Peru",value:29262.83},{name:"Philippines",value:93444.322},{name:"Papua New Guinea",value:6858.945},{name:"Poland",value:38198.754},{name:"Puerto Rico",value:3709.671},{name:"North Korea",value:1.468},{name:"Portugal",value:10589.792},{name:"Paraguay",value:6459.721},{name:"Qatar",value:1749.713},{name:"Romania",value:21861.476},{name:"Russia",value:21861.476},{name:"Rwanda",value:10836.732},{name:"Western Sahara",value:514.648},{name:"Saudi Arabia",value:27258.387},{name:"Sudan",value:35652.002},{name:"S. Sudan",value:9940.929},{name:"Senegal",value:12950.564},{name:"Solomon Islands",value:526.447},{name:"Sierra Leone",value:5751.976},{name:"El Salvador",value:6218.195},{name:"Somaliland",value:9636.173},{name:"Somalia",value:9636.173},{name:"Republic of Serbia",value:3573.024},{name:"Suriname",value:524.96},{name:"Slovakia",value:5433.437},{name:"Slovenia",value:2054.232},{name:"Sweden",value:9382.297},{name:"Swaziland",value:1193.148},{name:"Syria",value:7830.534},{name:"Chad",value:11720.781},{name:"Togo",value:6306.014},{name:"Thailand",value:66402.316},{name:"Tajikistan",value:7627.326},{name:"Turkmenistan",value:5041.995},{name:"East Timor",value:10016.797},{name:"Trinidad and Tobago",value:1328.095},{name:"Tunisia",value:10631.83},{name:"Turkey",value:72137.546},{name:"Tanzania",value:44973.33},{name:"Uganda",value:33987.213},{name:"Ukraine",value:46050.22},{name:"Uruguay",value:3371.982},{name:"United States",value:18386188.113},{name:"Uzbekistan",value:27769.27},{name:"Venezuela",value:236.299},{name:"Vietnam",value:89047.397},{name:"Vanuatu",value:236.299},{name:"West Bank",value:13.565},{name:"Yemen",value:22763.008},{name:"South Africa",value:51452.352},{name:"Zambia",value:13216.985},{name:"Zimbabwe",value:13076.978}];function y(e){var a=parseFloat(e);if(isNaN(a))return!1;var n=(a=Math.round(100*e)/100).toString(),t=n.indexOf(".");for(t<0&&(t=n.length,n+=".");n.length<=t+2;)n+="0";return n}var k=function(){return new Promise((function(e,a){fetch("https://news.files.bbci.co.uk/include/newsspec/26866-coronavirus-mapped/assets/app-project-assets/data/data_latest.json").then((function(e){return e.json()})).then((function(a){e(a)})).catch((function(e){return a(e)}))}))};function C(){return(C=Object(i.a)(l.a.mark((function e(){var a,n,t,i,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:a=e.sent,console.log(a),n={},x.forEach((function(e,a){n[e.name.toLowerCase()]=e.value})),t=a.regions,Object.entries(t).forEach((function(e){var a=e[1].countries;for(var t in a)n[a[t].country_region]=y(a[t].confirmed)})),i=Object(O.a)(x);try{for(i.s();!(r=i.n()).done;)(s=r.value).value=n[s.name.toLowerCase()],"United States"===s.name&&(s.value=n.us)}catch(l){i.e(l)}finally{i.f()}return console.log(x),e.abrupt("return",x);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(){return C.apply(this,arguments)};var w=function(){return Object(r.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(r.jsx)(g.a,{children:Object(r.jsx)(g.b,{to:"/",className:"navbar-brand",children:Object(r.jsx)("span",{role:"img","aria-label":"logo",children:"\ud83d\udc08"})})}),Object(r.jsx)("div",{className:"navbar-collapse collapse show",id:"basic-navbar-nav",children:Object(r.jsxs)("div",{className:"mr-auto navbar-nav",children:[Object(r.jsx)("a",{href:"https://github.com/","data-rb-event-key":"https://github.com/",className:"nav-link",children:"About"}),Object(r.jsx)("a",{href:"./index.html","data-rb-event-key":"./index.html",className:"nav-link",children:"Contact"}),Object(r.jsx)("a",{href:"https://github.com/","data-rb-event-key":"https://github.com/",className:"nav-link",children:"Contribute"})]})})]})},S=function(e){Object(c.a)(n,e);var a=Object(u.a)(n);function n(){return Object(s.a)(this,n),a.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{id:"main",children:[Object(r.jsx)(w,{}),Object(r.jsxs)(g.a,{children:[Object(r.jsxs)("div",{className:"position-relative mybanner",style:{height:"20rem",margin:"0px",width:"100%"},children:[Object(r.jsx)("div",{className:"position-absolute top-50 start-0 ",style:{paddingLeft:"20%"},children:Object(r.jsx)(g.b,{className:"btn btn-lg btn-outline-dark top-50 rounded-pill",to:"/covid-track",children:"Track"})}),Object(r.jsxs)("div",{className:"position-absolute top-50 end-0 ",style:{paddingRight:"20%"},children:[Object(r.jsx)(g.b,{style:{width:"7rem",height:"3rem"},className:"btn btn-lg btn-outline-dark top-50 rounded-pill",to:"/search",children:"Search"})," "]})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)(f.c,{children:[Object(r.jsx)(f.a,{path:"/display",exact:!0,component:P}),Object(r.jsx)(f.a,{path:"/covid-track/",exact:!0,component:T}),Object(r.jsx)(f.a,{path:"/search/",exact:!0,component:j})]})]})]})}}]),n}(v.a.Component);function P(e){var a=e.history.location.state.jobInfo;return Object(r.jsx)("div",{children:Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:a}})})}var T=function(e){Object(c.a)(n,e);var a=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return(e=a.call.apply(a,[this].concat(l))).clickEvent=function(){e.props.history.goBack()},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"col-12 col-4 ",id:"map"})})}},{key:"componentDidMount",value:function(){var e=Object(i.a)(l.a.mark((function e(){var a,n,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.next=3,N().then((function(e){a=e}));case 3:n=window.echarts.init(document.getElementById("map")),t={title:{text:"COVID-19 CORONAVIRUS CONFIRMED",subtext:"World Covid-19 Tracker from BBC",sublink:"https://www.bbc.com/news/world-51235105",left:"center",top:"top"},tooltip:{trigger:"item",formatter:function(e){var a=(e.value+"").split(".");return a=a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+"."+a[1],e.seriesName+"<br/>"+e.name+" : "+a}},toolbox:{show:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},visualMap:{type:"continuous",min:0,max:1e6,left:"left",top:"center",text:["High","Low"],realtime:!1,calculable:!0,color:["orangered","yellow","lightskyblue"]},series:[{name:"Covid-19 ONFIRMED",type:"map",mapType:"world",roam:!0,itemStyle:{emphasis:{label:{show:!0}}},data:a}]},n.setOption(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(v.a.Component);d.a.render(Object(r.jsx)(S,{}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.8cba9bff.chunk.js.map